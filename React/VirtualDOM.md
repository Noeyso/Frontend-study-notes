# Virtual DOM (가상 돔)

## Virtual DOM이 등장한 이유
> 브라우저 **렌더링 성능을 개선**하기 위해 등장했다.

## DOM이란?
Virtual DOM을 알기 위해선 DOM이 무엇인지 알아야한다. <br />

DOM : Document Object Model , 즉 **객체**이다. <br />
DOM은 브라우저 렌더링 과정에서 중요한 역할을 한다. 브라우저가 DOM을 통해 HTML문서를 해석하기 때문이다. 

브라우저 렌더링 과정에 대해서 간단히 알아보자.<br />
### ⚙️ 브라우저 렌더링 과정 (DOM 작동 원리)

>HTML파싱 👉 DOM 객체 생성  👉 CSS 파싱 👉 렌더트리 생성 👉 레이아웃 👉 페인팅


위 과정을 거쳐 사용자는 브라우저에서 요청 결과를 확인할 수 있다. 즉, DOM 객체에 변화가 발생하면 위 과정을 반복하게 된다는 것이다.

💥 프로젝트 규모가 커지면 DOM객체가 엄청 많아질텐데 그 많은 객체들이 변할때마다 위 과정을 거치게 되면 많은 시간과 자원이 소모될 수 있다.<br />

✨ 그래서 등장한 것이 바로 Virtual DOM이다.


## Virtual DOM
Virtual DOM은 DOM을 추상화한 가상의 DOM이다. <br />

### 작동 원리

상태가 변화하면 DOM을 직접 변경하는 것이 아니라 변경된 노드를 추적해서 변경 사항을 Virtual DOM에 등록한다. 이전 Virtual DOM과 비교하여 변경된 부분만 DOM에 업데이트한다.

1. **가상 DOM 생성** : 실제 DOM의 구조를 복사한 것이다. (그 안의 api까지 사용할 수 있는 것은 아님)
2. **UI 업데이트** : 가상 DOM을 순회하며 기존의 가상 DOM과 비교하여 업데이트할 부분을 찾아낸다. 업데이트된 새로운 가상 DOM 생성.
(변경된 부분만 찾아서 최소한으로 업데이트)
3. **실제 DOM에 업데이트** : 업데이트된 가상 DOM을 실제 DOM에 반영하여 UI가 업데이트된다.
